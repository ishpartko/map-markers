(function(e){function t(t){for(var a,r,c=t[0],s=t[1],l=t[2],p=0,m=[];p<c.length;p++)r=c[p],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&m.push(i[r][0]),i[r]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);u&&u(t);while(m.length)m.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,c=1;c<n.length;c++){var s=n[c];0!==i[s]&&(a=!1)}a&&(o.splice(t--,1),e=r(r.s=n[0]))}return e}var a={},i={app:0},o=[];function r(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=a,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/map-markers/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var u=s;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},1555:function(e,t,n){},"452c":function(e,t,n){},5265:function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app"},[e.isEdit?[n("CreateMapTree",{on:{back:e.onClickBack}})]:[n("MapTree",{staticClass:"app-map-tree"}),n("Map",{staticClass:"app-map",attrs:{"markers-type":e.markersType}}),n("SavedMapTree",{staticClass:"saved-map-tree"})],n("MenuPanel",{attrs:{"is-map-edit":e.isEdit},on:{"on-toggle-edit":e.toggleEdit,"on-change-markers-type":e.changeMarkersType}})],2)},o=[],r=(n("a4d3"),n("4de4"),n("4160"),n("e439"),n("dbb4"),n("b64b"),n("159b"),n("ade3")),c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{ref:"map",staticClass:"map"}),n("button",{on:{click:e.onClickSave}},[e._v(" Сохранить маркеры в дерево ")])])},s=[],l=(n("d81d"),n("d3b7"),n("07ac"),n("3ca3"),n("ddb0"),n("e11e")),u=n.n(l),p=n("5aec");delete u.a.Icon.Default.prototype._getIconUrl,u.a.Icon.Default.mergeOptions({iconRetinaUrl:n("584d"),iconUrl:n("6397"),shadowUrl:n("e2b9")});var m=u.a.tileLayer,d=u.a.map,f=u.a.marker,g=(p["a"].Nominatim,n("db22")),h=n.n(g),y=(n("6cc5"),n("bc59")),O="pk.eyJ1IjoiaXNocGFydGtvIiwiYSI6ImNrM25jdjYzbjFqMGMzZXJrMXpkOWFkOHMifQ.J7fINBkSi_1_QEogEdHr6g",b=(n("26e9"),n("fb6a"),n("ec41")),v=3,N=function(e){var t=e.reverse().slice(0,v);return{countryName:Object(b["a"])(t,"[0].text","Нет Страны"),regionName:Object(b["a"])(t,"[1].text","Нет Области"),cityName:Object(b["a"])(t,"[2].text","Нет Города")}},S=function(e,t){var n=e.id,a=e.position,i=N(t);return{id:n,title:i.cityName,position:a,isSaved:!1,isShowOnMap:!1,context:i}},k={position:[54.01713952011128,34.60835549517637],zoom:7,id:"mapbox/streets-v11"},M={data:function(){return{mainMap:null,points:{}}},mounted:function(){var e=this;this.mainMap=d(this.$refs.map,{center:k.position,zoom:k.zoom}),m("https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}",{attribution:"",maxZoom:18,minZoom:4,id:k.id,accessToken:O}).addTo(this.mainMap),this.mainMap.on("click",(function(t){e.addPoint(t.latlng)}))},methods:{getNewId:function(){return h()("1234567890abcdefghigklmno",4)},addPoint:function(e){var t=this,n={id:this.getNewId(),position:e};a["a"].set(this.points,n.id,n);var i=f(e).addTo(this.mainMap);i.on("click",(function(){t.mainMap.removeLayer(i);var e=Object(y["a"])(t.points,n.id);e&&a["a"].delete(t.points,n.id)}))},createPlacesFromApi:function(){var e=this;return new Promise((function(t){var n=Object.values(e.points).map((function(t){return new Promise((function(n,a){e.$store.dispatch("getPlaceContextFromApi",t).then((function(e){n(S(t,e))})).catch((function(e){a(e)}))}))}));Promise.all(n).then((function(e){var n={};e.forEach((function(e){n[e.id]=e})),t(n)}))}))},onClickSave:function(){var e=this;this.createPlacesFromApi().then((function(t){e.$store.commit("places",t),e.$emit("back")}))}}},w=M,j=(n("8fd0"),n("2877")),x=Object(j["a"])(w,c,s,!1,null,"1ae3858b",null),P=x.exports,T=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"map",staticClass:"map"})},_=[],E=(n("45fc"),n("a9e3"),n("2f62")),C={default:{title:"Сохранить при наведении",value:1},allowDrag:{title:"Сохранить при клике ЛКМ + Разрешить перетаскивание",value:2}};function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var B={props:{markersType:{type:[String,Number],required:!0,validator:function(e){return Object.values(C).some((function(t){return t.value===e}))}}},data:function(){return{mainMap:null,markersOnMap:{}}},computed:I({},Object(E["b"])({mapMarkers:"mapMarkers",places:"places"}),{onSelectListeners:function(){switch(this.markersType){case C.allowDrag.value:return"click";case C.default.value:default:return"mouseover click"}}}),watch:{mapMarkers:function(e){var t=this;null!==e&&e.forEach((function(e){t.addMarker(e)}))},markersType:function(e){this.changeMarkersType(e)}},mounted:function(){this.mainMap=d(this.$refs.map,{center:k.position,zoom:k.zoom}),this.mainMap.on("contextmenu",(function(){})),m("https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}",{attribution:"",maxZoom:18,id:k.id,accessToken:O}).addTo(this.mainMap)},methods:{changeMarkerType:function(e){this.updateMarkerListeners({id:e})},changeMarkersType:function(){var e=this;Object.keys(this.markersOnMap).forEach((function(t){e.changeMarkerType(t)}))},deleteMarker:function(e){var t=e.id;this.mainMap.removeLayer(this.markersOnMap[t]),a["a"].delete(this.markersOnMap,t)},updateMarkerListeners:function(e){var t=this,n=e.id;this.markersOnMap[n].clearAllEventListeners(),this.markersOnMap[n].on(this.onSelectListeners,(function(e){var n=Object(b["a"])(e.target,"options.id",null);t.$store.commit("saveMapMarker",{id:n}),t.deleteMarker({id:n})})),this.markersType===C.allowDrag.value&&this.markersOnMap[n].on("dragend",(function(e){var n=e.target,a=Object(b["a"])(n,"options.id",null),i=n.getLatLng();n.setLatLng(i,{id:a,draggable:"true"}),n.bindPopup(i),n.update();var o=I({},t.places[a],{position:i});t.$store.dispatch("getPlaceContextFromApi",o).then((function(e){var n=N(e),a=I({},o,{context:n});t.$store.commit("updateSinglePlace",a)}))}))},addMarker:function(e){Object(y["a"])(this.markersOnMap,e.id)||(this.markersOnMap[e.id]=f(e.position,{draggable:"true",id:e.id}),this.updateMarkerListeners({id:e.id}),this.markersOnMap[e.id].addTo(this.mainMap))}}},$=B,R=(n("5c9d"),Object(j["a"])($,T,_,!1,null,"25be0c82",null)),L=R.exports,z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"map-tree-wrapper"},[e.tree?n("ul",{staticClass:"map-tree"},e._l(e.tree,(function(t,a){return n("TreeListItem",{key:a,attrs:{place:t},on:{selected:e.onSelected}})})),1):e._e()])},F=[],A=(n("13d5"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.place?n("li",{staticClass:"tree-list-item",on:{click:function(t){return t.stopPropagation(),e.onSelected(e.place)}}},[n("span",{staticClass:"tree-list-item-title",class:{"tree-list-item_selected":e.isNeedToHightlight}},[e._v(" "+e._s(e.placeTitle)+" ")]),e.place.children?n("ul",e._l(e.place.children,(function(t,a){return n("TreeListItem",{key:a,attrs:{place:t},on:{selected:e.onSelected}})})),1):e._e()]):e._e()}),H=[],J=n("53ca"),G=n("d4ec"),K=n("bee2"),U=function(){function e(){Object(G["a"])(this,e)}return Object(K["a"])(e,null,[{key:"isValid",value:function(e){var t=!0;return this.hasChildren(e)&&(t=this.isChildrenValid(e.children)),e.hasOwnProperty("title")&&t}},{key:"hasChildren",value:function(e){return e.hasOwnProperty("children")}},{key:"isChildrenValid",value:function(e){return"object"===Object(J["a"])(e)}}]),e}(),V={name:"TreeListItem",props:{place:{type:Object,required:!0,validator:function(e){return U.isValid(e)}}},computed:{placeTitle:function(){return Object(b["a"])(this.place,"title",!1)||Object(b["a"])(this.place,"context[2]",!1)},isNeedToHightlight:function(){return Object(b["a"])(this.place,"isSaved",!1)||Object(b["a"])(this.place,"isShowOnMap",!1)}},methods:{onSelected:function(e){this.$emit("selected",e)}}},q=V,Z=(n("759f"),Object(j["a"])(q,A,H,!1,null,"4a0facd6",null)),X=Z.exports,Q=n("a1a3");function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ee={components:{TreeListItem:X},computed:Y({},Object(E["b"])({places:"places"}),{tree:function(){return this.createTreeFromPlaces(this.places)}}),methods:{onSelected:function(e){this.$store.commit("addMapMarkers",e)},getHashCode:function(e){var t,n,a=0;if(0===e.length)return a;for(t=0;t<e.length;t++)n=e.charCodeAt(t),a=(a<<5)-a+n,a|=0;return a},createTreeItem:function(e){return Object(r["a"])({},this.getHashCode(e.context.countryName),{title:e.context.countryName,children:Object(r["a"])({},this.getHashCode(e.context.regionName),{title:e.context.regionName,children:Object(r["a"])({},this.getHashCode(e.context.cityName),e)})})},createTreeFromPlaces:function(e){var t=this;return Object.values(e).reduce((function(e,n){var a=t.createTreeItem(Y({},n));return Object(Q["a"])(a,e)}),{})}}},te=ee,ne=(n("8277"),Object(j["a"])(te,z,F,!1,null,null,null)),ae=ne.exports,ie=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",e._l(e.savedPlaces,(function(t){return n("li",{key:t.id,staticClass:"saved-list-item",on:{click:function(n){return e.onClickDelete(t)}}},[e._v(" "+e._s(t.context.countryName+" => "+t.context.regionName+" => "+t.context.cityName)+" ")])})),0)},oe=[];function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var se={computed:ce({},Object(E["b"])({savedPlaces:"savedPlaces"})),methods:{onClickDelete:function(e){this.$store.commit("unSaveMapMarker",e)}}},le=se,ue=(n("c369"),Object(j["a"])(le,ie,oe,!1,null,null,null)),pe=ue.exports,me=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"menu-panel-wrapper",class:{"menu-panel-wrapper_active":e.isShowMenu}},[n("button",{on:{click:function(t){e.isShowMenu=!e.isShowMenu}}},[e._v(" Показать/Спрятать меню ")]),e.isShowMenu?n("section",{staticClass:"menu-panel"},[n("button",{staticClass:"menu-panel-controll menu-panel-button",on:{click:e.toggleEdit}},[e._v(" "+e._s(e.editButtonText)+" ")]),e.isMapEdit?e._e():n("span",{staticClass:"menu-panel-controll"},[e._v(" Управление маркерами: "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.markersType,expression:"markersType"}],staticClass:"menu-panel-controll-select",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.markersType=t.target.multiple?n:n[0]}}},e._l(e.markersTypeNames,(function(t,a){return n("option",{key:a,domProps:{value:t.value}},[e._v(" "+e._s(t.title)+" ")])})),0)])]):e._e()])},de=[],fe={props:{isMapEdit:{type:Boolean,required:!0}},data:function(){return{markersTypeData:C.default.value,isShowMenu:!1}},computed:{markersTypeNames:function(){return C},editButtonText:function(){return this.isMapEdit?"Вернуться к дереву":"Задать точки"},markersType:{get:function(){return this.markersTypeData},set:function(e){this.markersTypeData=e,this.$emit("on-change-markers-type",e)}}},methods:{toggleEdit:function(){this.$emit("on-toggle-edit")}}},ge=fe,he=(n("a169"),Object(j["a"])(ge,me,de,!1,null,"1c1114ea",null)),ye=he.exports,Oe=function(e){return JSON.parse(JSON.stringify(e))},be=function(e){return JSON.parse(e)},ve=function(e){return JSON.stringify(e)},Ne=function(){try{var e=localStorage.getItem("places");if(e)return be(e)}catch(t){localStorage.removeItem("places")}},Se=function(e){try{localStorage.setItem("places",ve(Oe(e)))}catch(t){throw new Error(t)}},ke={l6lg:{id:"l6lg",title:"Stare Babice",position:{lat:52.27942364202732,lng:20.746890268441188},isSaved:!1,isShowOnMap:!1,context:{countryName:"Poland",regionName:"Mazowieckie",cityName:"Stare Babice"}},n320:{id:"n320",title:"Murowana Goślina",position:{lat:52.54728749655735,lng:17.142521486334587},isSaved:!1,isShowOnMap:!1,context:{countryName:"Poland",regionName:"Wielkopolskie",cityName:"Murowana Goślina"}},k7ni:{id:"k7ni",title:"Byczyna",position:{lat:51.081419529978845,lng:18.285370124563524},isSaved:!1,isShowOnMap:!1,context:{countryName:"Poland",regionName:"Opolskie",cityName:"Byczyna"}},h1ao:{id:"h1ao",title:"Оршанский район",position:{lat:56.90405879094862,lng:48.26316901964512},isSaved:!1,isShowOnMap:!1,context:{countryName:"Russia",regionName:"Республика Марий-Эл",cityName:"Оршанский район"}},l02n:{id:"l02n",title:"Сургутский район",position:{lat:61.776120673821985,lng:70.85640748309369},isSaved:!1,isShowOnMap:!1,context:{countryName:"Russia",regionName:"Ханты-Мансийский АО",cityName:"Сургутский район"}},g21c:{id:"g21c",title:"Удорский район",position:{lat:63.822725784540566,lng:49.757663392713674},isSaved:!1,isShowOnMap:!1,context:{countryName:"Russia",regionName:"Республика Коми",cityName:"Удорский район"}},b13m:{id:"b13m",title:"Павлоградский район",position:{lat:54.22332057183491,lng:73.49375049439122},isSaved:!1,isShowOnMap:!1,context:{countryName:"Russia",regionName:"Омская область",cityName:"Павлоградский район"}},"29l3":{id:"29l3",title:"Нет Города",position:{lat:49.45352952111695,lng:66.28501293017801},isSaved:!1,isShowOnMap:!1,context:{countryName:"Kazakhstan",regionName:"Нет Области",cityName:"Нет Города"}},ganf:{id:"ganf",title:"Режевской",position:{lat:57.333201521871345,lng:61.27406120871277},isSaved:!1,isShowOnMap:!1,context:{countryName:"Russia",regionName:"Свердловская область",cityName:"Режевской"}},dg95:{id:"dg95",title:"Советский район",position:{lat:61.52588982372355,lng:61.71361837726234},isSaved:!1,isShowOnMap:!1,context:{countryName:"Russia",regionName:"Ханты-Мансийский АО",cityName:"Советский район"}},"8ne0":{id:"8ne0",title:"Великоустюгский район",position:{lat:60.76296332238186,lng:45.27418027350792},isSaved:!1,isShowOnMap:!1,context:{countryName:"Russia",regionName:"Вологодская область",cityName:"Великоустюгский район"}},ehah:{id:"ehah",title:"Ростовский район",position:{lat:56.90405879094862,lng:39.12037991381378},isSaved:!1,isShowOnMap:!1,context:{countryName:"Russia",regionName:"Ярославская область",cityName:"Ростовский район"}},iacn:{id:"iacn",title:"Докшицы",position:{lat:55.03674075328966,lng:27.603982097814693},isSaved:!1,isShowOnMap:!1,context:{countryName:"Belarus",regionName:"Vitebsk",cityName:"Докшицы"}},"6c65":{id:"6c65",title:"Нет Города",position:{lat:52.49384484745144,lng:72.79045902471186},isSaved:!1,isShowOnMap:!1,context:{countryName:"Kazakhstan",regionName:"Нет Области",cityName:"Нет Города"}},"0f7g":{id:"0f7g",title:"Нет Города",position:{lat:42.18465461914306,lng:67.7795073032466},isSaved:!1,isShowOnMap:!1,context:{countryName:"Kazakhstan",regionName:"Нет Области",cityName:"Нет Города"}},bb31:{id:"bb31",title:"Нет Города",position:{lat:50.5821641817533,lng:58.812541064835095},isSaved:!1,isShowOnMap:!1,context:{countryName:"Kazakhstan",regionName:"Нет Области",cityName:"Нет Города"}},fb3a:{id:"fb3a",title:"Чекмагушевский район",position:{lat:55.03674075328966,lng:54.59279224675909},isSaved:!1,isShowOnMap:!1,context:{countryName:"Russia",regionName:"Республика Башкирия",cityName:"Чекмагушевский район"}},"7l4a":{id:"7l4a",title:"Чердынский район",position:{lat:60.891400507523166,lng:56.175198053537606},isSaved:!1,isShowOnMap:!1,context:{countryName:"Russia",regionName:"Пермский край",cityName:"Чердынский район"}},"28gd":{id:"28gd",title:"Тобольский район",position:{lat:58.955301120406325,lng:67.60368443582678},isSaved:!1,isShowOnMap:!1,context:{countryName:"Russia",regionName:"Тюменская область",cityName:"Тобольский район"}},dg07:{id:"dg07",title:"Нет Города",position:{lat:54.06898907929346,lng:66.10919006275817},isSaved:!1,isShowOnMap:!1,context:{countryName:"Kazakhstan",regionName:"Нет Области",cityName:"Нет Города"}},ie60:{id:"ie60",title:"Нет Города",position:{lat:48.70566297350473,lng:36.39512546880633},isSaved:!1,isShowOnMap:!1,context:{countryName:"Ukraine",regionName:"Нет Области",cityName:"Нет Города"}},fcab:{id:"fcab",title:"Костюковичи",position:{lat:53.341146400991605,lng:31.911642349600577},isSaved:!1,isShowOnMap:!1,context:{countryName:"Belarus",regionName:"Mogilev",cityName:"Костюковичи"}},"60e5":{id:"60e5",title:"Гавриловский район",position:{lat:52.81352646037865,lng:42.548925828500515},isSaved:!1,isShowOnMap:!1,context:{countryName:"Russia",regionName:"Тамбовская область",cityName:"Гавриловский район"}},"4b5e":{id:"4b5e",title:"Камышинский район",position:{lat:49.96469662626377,lng:45.27418027350792},isSaved:!1,isShowOnMap:!1,context:{countryName:"Russia",regionName:"Волгоградская область",cityName:"Камышинский район"}},"7ced":{id:"7ced",title:"Нет Города",position:{lat:48.23983256373431,lng:23.384233279738687},isSaved:!1,isShowOnMap:!1,context:{countryName:"Ukraine",regionName:"Нет Области",cityName:"Нет Города"}},"4ig4":{id:"4ig4",title:"Нет Города",position:{lat:44.85882246449399,lng:19.340307329082506},isSaved:!1,isShowOnMap:!1,context:{countryName:"Bosnia and Herzegovina",regionName:"Bijeljina",cityName:"Нет Города"}},alf1:{id:"alf1",title:"Boissy-lès-Perche",position:{lat:48.70566297350473,lng:.8789062500000001},isSaved:!1,isShowOnMap:!1,context:{countryName:"France",regionName:"Eure-et-Loir",cityName:"Boissy-lès-Perche"}},"4c89":{id:"4c89",title:"Briaucourt",position:{lat:47.82871963704683,lng:6.241503706304907},isSaved:!1,isShowOnMap:!1,context:{countryName:"France",regionName:"Haute-Saône",cityName:"Briaucourt"}},m3m4:{id:"m3m4",title:"Bertignat",position:{lat:45.60107416271177,lng:3.692072128717326},isSaved:!1,isShowOnMap:!1,context:{countryName:"France",regionName:"Puy-de-Dôme",cityName:"Bertignat"}},efio:{id:"efio",title:"Lubomia",position:{lat:50.02116112149353,lng:18.285370124563524},isSaved:!1,isShowOnMap:!1,context:{countryName:"Poland",regionName:"Śląskie",cityName:"Lubomia"}},"4df5":{id:"4df5",title:"Möckern",position:{lat:52.22565552781916,lng:12.043658331159426},isSaved:!1,isShowOnMap:!1,context:{countryName:"Germany",regionName:"Sachsen-Anhalt",cityName:"Möckern"}},"5olg":{id:"5olg",title:"Fieberbrunn",position:{lat:47.47372470269752,lng:12.571126933418917},isSaved:!1,isShowOnMap:!1,context:{countryName:"Austria",regionName:"Tirol",cityName:"Fieberbrunn"}},"82dn":{id:"82dn",title:"Rákoš",position:{lat:48.64766799835585,lng:21.450181738120513},isSaved:!1,isShowOnMap:!1,context:{countryName:"Slovakia",regionName:"Košický kraj",cityName:"Rákoš"}},"953d":{id:"953d",title:"Kuchyňa",position:{lat:48.41502019002829,lng:17.142521486334587},isSaved:!1,isShowOnMap:!1,context:{countryName:"Slovakia",regionName:"Bratislavský kraj",cityName:"Kuchyňa"}},e5gg:{id:"e5gg",title:"Петриков",position:{lat:52.17182222489304,lng:28.658919302333675},isSaved:!1,isShowOnMap:!1,context:{countryName:"Belarus",regionName:"Gomel",cityName:"Петриков"}},"2i6m":{id:"2i6m",title:"Нет Города",position:{lat:49.224615893759854,lng:31.208350879921255},isSaved:!1,isShowOnMap:!1,context:{countryName:"Ukraine",regionName:"Черкаська",cityName:"Нет Города"}},"1c6l":{id:"1c6l",title:"Усманский район",position:{lat:52.009930870230704,lng:39.82367138349311},isSaved:!1,isShowOnMap:!1,context:{countryName:"Russia",regionName:"Липецкая область",cityName:"Усманский район"}},k1ig:{id:"k1ig",title:"Нет Города",position:{lat:41.72744816573121,lng:44.57088880382861},isSaved:!1,isShowOnMap:!1,context:{countryName:"Georgia",regionName:"Нет Области",cityName:"Нет Города"}},"4b30":{id:"4b30",title:"Нет Города",position:{lat:38.84727862643556,lng:45.7137374420575},isSaved:!1,isShowOnMap:!1,context:{countryName:"Iran",regionName:"East Azarbaijan",cityName:"Нет Города"}},kkik:{id:"kkik",title:"Нет Города",position:{lat:36.27163055293128,lng:36.834682637355904},isSaved:!1,isShowOnMap:!1,context:{countryName:"Syria",regionName:"Нет Области",cityName:"Нет Города"}},"2d0m":{id:"2d0m",title:"Нет Города",position:{lat:36.48377322274468,lng:30.59297084395185},isSaved:!1,isShowOnMap:!1,context:{countryName:"Turkey",regionName:"Нет Области",cityName:"Нет Города"}},eakg:{id:"eakg",title:"Нет Города",position:{lat:43.790707173501595,lng:23.56005614715852},isSaved:!1,isShowOnMap:!1,context:{countryName:"Bulgaria",regionName:"Монтана",cityName:"Нет Города"}},"8hbb":{id:"8hbb",title:"Нет Города",position:{lat:41.20091416448631,lng:20.57106740102132},isSaved:!1,isShowOnMap:!1,context:{countryName:"North Macedonia",regionName:"Нет Области",cityName:"Нет Города"}},"2c81":{id:"2c81",title:"Bacoli",position:{lat:40.80321059688951,lng:14.065621306487515},isSaved:!1,isShowOnMap:!1,context:{countryName:"Italy",regionName:"Napoli",cityName:"Bacoli"}},lo22:{id:"lo22",title:"San Rufo",position:{lat:40.40310955608585,lng:15.47220424584616},isSaved:!1,isShowOnMap:!1,context:{countryName:"Italy",regionName:"Salerno",cityName:"San Rufo"}},eogo:{id:"eogo",title:"Bagno di Romagna",position:{lat:43.790707173501595,lng:11.95574689744951},isSaved:!1,isShowOnMap:!1,context:{countryName:"Italy",regionName:"Forli'-Cesena",cityName:"Bagno di Romagna"}},"9ecn":{id:"9ecn",title:"Нет Города",position:{lat:40.13504613427656,lng:11.692012596319765},isSaved:!1,isShowOnMap:!1,context:{countryName:"Нет Страны",regionName:"Нет Области",cityName:"Нет Города"}},ib9h:{id:"ib9h",title:"Нет Города",position:{lat:38.36684108799575,lng:6.329415140014821},isSaved:!1,isShowOnMap:!1,context:{countryName:"Нет Страны",regionName:"Нет Области",cityName:"Нет Города"}}},Me=function(){window.localStorage.getItem("wasFirstTimeInited")||(window.localStorage.setItem("places",ve(ke)),window.localStorage.setItem("wasFirstTimeInited","true"))};function we(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?we(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var xe={name:"app",components:{Map:L,MapTree:ae,SavedMapTree:pe,CreateMapTree:P,MenuPanel:ye},computed:je({},Object(E["b"])({places:"places"})),data:function(){return{isEdit:!0,markersType:C.default.value}},created:function(){Me(),this.init()},methods:{init:function(){var e=Ne();e&&this.$store.commit("places",e),this.isEdit=0===Object.keys(this.places).length},onClickBack:function(){Se(this.places),this.isEdit=!1},toggleEdit:function(){this.isEdit=!this.isEdit},changeMarkersType:function(e){this.markersType=e}},watch:{places:function(){this.isEdit=!1}}},Pe=xe,Te=(n("99f9"),n("b0a0"),Object(j["a"])(Pe,i,o,!1,null,"ef6e7f96",null)),_e=Te.exports,Ee=(n("99af"),function(e){if(U.isValid(e)){var t=[],n=function e(n){if(U.hasChildren(n))for(var a=0,i=Object.values(n.children);a<i.length;a++){var o=i[a];e(o)}else t.push(n)};return n(e),t}}),Ce=n("6740"),De=n("bc3a"),Ie=n.n(De);function Be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function $e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}a["a"].use(E["a"]);var Re=new E["a"].Store({state:{places:{}},mutations:{places:function(e,t){e.places=$e({},t)},updateSinglePlace:function(e,t){Object(y["a"])(e.places,t.id)&&a["a"].set(e.places,t.id,t)},addMapMarkers:function(e,t){var n=Ee(t);e.places=$e({},e.places,{},n.reduce((function(e,t){return t.isSaved?e:$e({},e,Object(r["a"])({},t.id,$e({},t,{isShowOnMap:!0})))}),{}))},saveMapMarker:function(e,t){var n=t.id;a["a"].set(e.places,n,$e({},e.places[n],{isSaved:!0,isShowOnMap:!1}))},unSaveMapMarker:function(e,t){a["a"].set(e.places,t.id,$e({},e.places[t.id],{isSaved:!1}))}},getters:{places:function(e){return e.places},savedPlaces:function(e,t){return Object(Ce["a"])(t.places,(function(e){return Object(b["a"])(e,"isSaved",!1)}))},mapMarkers:function(e,t){return Object(Ce["a"])(t.places,(function(e){return Object(b["a"])(e,"isShowOnMap",!1)}))}},actions:{getPlaceContextFromApi:function(e,t){return new Promise((function(e,n){Ie.a.get("https://api.mapbox.com/geocoding/v5/mapbox.places/".concat(t.position.lng,",").concat(t.position.lat,".json"),{params:{access_token:O}}).then((function(t){e(Object(b["a"])(t,"data.features[0].context",[]))})).catch((function(e){n(e)}))}))}},modules:{}});a["a"].config.productionTip=!1,new a["a"]({store:Re,render:function(e){return e(_e)}}).$mount("#app")},"5c9d":function(e,t,n){"use strict";var a=n("fb90"),i=n.n(a);i.a},"61d4":function(e,t,n){},"64de":function(e,t,n){},"759f":function(e,t,n){"use strict";var a=n("ab97"),i=n.n(a);i.a},8277:function(e,t,n){"use strict";var a=n("1555"),i=n.n(a);i.a},"8fd0":function(e,t,n){"use strict";var a=n("61d4"),i=n.n(a);i.a},"99f9":function(e,t,n){"use strict";var a=n("64de"),i=n.n(a);i.a},a169:function(e,t,n){"use strict";var a=n("c559"),i=n.n(a);i.a},ab97:function(e,t,n){},b0a0:function(e,t,n){"use strict";var a=n("452c"),i=n.n(a);i.a},c369:function(e,t,n){"use strict";var a=n("5265"),i=n.n(a);i.a},c559:function(e,t,n){},fb90:function(e,t,n){}});
//# sourceMappingURL=app.22bd8bcf.js.map