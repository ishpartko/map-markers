{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?2a78","webpack:///./src/components/CreateMapTree.vue?f469","webpack:///./src/lib/leaflet.js","webpack:///./src/config/index.js","webpack:///./src/helpers/place.js","webpack:///./src/helpers/map.js","webpack:///src/components/CreateMapTree.vue","webpack:///./src/components/CreateMapTree.vue?1139","webpack:///./src/components/CreateMapTree.vue","webpack:///./src/components/Map.vue?79af","webpack:///./src/helpers/radio.js","webpack:///src/components/Map.vue","webpack:///./src/components/Map.vue?3baf","webpack:///./src/components/Map.vue","webpack:///./src/components/MapTree.vue?3a05","webpack:///./src/components/TreeListItem.vue?6597","webpack:///./src/models/Place.js","webpack:///src/components/TreeListItem.vue","webpack:///./src/components/TreeListItem.vue?624b","webpack:///./src/components/TreeListItem.vue","webpack:///src/components/MapTree.vue","webpack:///./src/components/MapTree.vue?aba1","webpack:///./src/components/MapTree.vue","webpack:///./src/components/SavedMapTree.vue?34e4","webpack:///src/components/SavedMapTree.vue","webpack:///./src/components/SavedMapTree.vue?9cbf","webpack:///./src/components/SavedMapTree.vue","webpack:///./src/components/MenuPanel.vue?595d","webpack:///src/components/MenuPanel.vue","webpack:///./src/components/MenuPanel.vue?b03a","webpack:///./src/components/MenuPanel.vue","webpack:///./src/helpers/index.js","webpack:///./src/helpers/firstTimePlaceholderData.js","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue","webpack:///./src/helpers/converters.js","webpack:///./src/store/index.js","webpack:///./src/main.js","webpack:///./src/components/Map.vue?b1a1","webpack:///./src/components/TreeListItem.vue?3288","webpack:///./src/components/MapTree.vue?604b","webpack:///./src/components/CreateMapTree.vue?80dc","webpack:///./src/components/MenuPanel.vue?817b","webpack:///./src/App.vue?abff","webpack:///./src/components/SavedMapTree.vue?42c2","webpack:///./src/App.vue?77be"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","staticClass","on","onClickBack","attrs","markersType","isEdit","toggleEdit","changeMarkersType","staticRenderFns","ref","onClickSave","_v","L","Icon","Default","_getIconUrl","mergeOptions","iconRetinaUrl","require","iconUrl","shadowUrl","tileLayer","map","marker","Geocoder","Nominatim","mapToken","maxDeepSize","getPlaceContextFromFullApiContext","fullApiContext","apiContext","reverse","countryName","regionName","cityName","getPlace","id","position","context","title","isSaved","isShowOnMap","defaultView","zoom","mainMap","points","mounted","$refs","center","methods","getNewId","addPoint","newMarker","createPlacesFromApi","Promise","resolve","point","fullContext","reject","err","all","allPromises","then","forEach","resultObject","component","markersTypeNames","default","allowDrag","props","type","String","Number","required","validator","values","markersOnMap","computed","onSelectListeners","watch","mapMarkers","newValue","attribution","maxZoom","accessToken","changeMarkerType","updateMarkerListeners","keys","deleteMarker","removeLayer","clearAllEventListeners","setLatLng","bindPopup","update","addMarker","place","draggable","addTo","_l","onSelected","_e","$event","stopPropagation","class","isNeedToHightlight","_s","placeTitle","childPlace","Place","isValid","hasChildren","isChildrenValid","children","$emit","treeItem","components","TreeListItem","tree","createTreeFromPlaces","places","$store","commit","getHashCode","hash","str","chr","charCodeAt","createTreeItem","reduce","onClickDelete","isShowMenu","editButtonText","isMapEdit","directives","rawName","expression","$$selectedVal","Array","filter","target","options","selected","val","_value","multiple","markersTypesName","domProps","Boolean","markersTypeData","set","unreact","JSON","parse","stringify","readPlacesFromLocalStorage","localStorage","getItem","e","removeItem","writePlacesInLocalStorage","setItem","Error","firstTimePlaceholderPlaces","setFirstTimePlaceholderData","Map","MapTree","SavedMapTree","CreateMapTree","MenuPanel","created","init","placesFromLocalStorage","flatTree","convert","propTreeItem","childTreeItem","Vue","use","Vuex","Store","state","mutations","updateSinglePlace","has","addMapMarkers","pickedPlaces","pickedPlace","saveMapMarker","unSaveMapMarker","getters","savedPlaces","actions","getPlaceContextFromApi","Axios","lng","lat","params","access_token","response","catch","config","productionTip","store","render","h","App","$mount"],"mappings":"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","file":"js/app.44d55f5e.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/map-markers/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app\"},[(_vm.isEdit)?[_c('CreateMapTree',{on:{\"back\":_vm.onClickBack}})]:[_c('MapTree',{staticClass:\"app-map-tree\"}),_c('Map',{staticClass:\"app-map\",attrs:{\"markers-type\":_vm.markersType}}),_c('SavedMapTree',{staticClass:\"saved-map-tree\"})],_c('MenuPanel',{attrs:{\"is-map-edit\":_vm.isEdit},on:{\"on-toggle-edit\":_vm.toggleEdit,\"on-change-markers-type\":_vm.changeMarkersType}})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{ref:\"map\",staticClass:\"map\"}),_c('button',{on:{\"click\":_vm.onClickSave}},[_vm._v(\" Сохранить маркеры в дерево \")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import L from 'leaflet';\nimport Geocoder from 'leaflet-control-geocoder';\n\n// hack to fix it https://github.com/vue-leaflet/Vue2Leaflet/issues/96#issuecomment-341453050\ndelete L.Icon.Default.prototype._getIconUrl;\n\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl: require('leaflet/dist/images/marker-icon-2x.png'),\n  iconUrl: require('leaflet/dist/images/marker-icon.png'),\n  shadowUrl: require('leaflet/dist/images/marker-shadow.png')\n});\n\nexport const tileLayer = L.tileLayer; \nexport const map = L.map;\nexport const marker = L.marker;\nexport const Nominatim = Geocoder.Nominatim;","export const mapToken = 'pk.eyJ1IjoiaXNocGFydGtvIiwiYSI6ImNrM25jdjYzbjFqMGMzZXJrMXpkOWFkOHMifQ.J7fINBkSi_1_QEogEdHr6g'","import {get} from 'lodash-es'\nconst maxDeepSize = 3\n\nexport const getPlaceContextFromFullApiContext = (fullApiContext) => {\n  const apiContext = fullApiContext\n    .reverse()\n    .slice(0, maxDeepSize)\n  return {\n  countryName: get(apiContext, '[0].text', 'Нет Страны'),\n  regionName: get(apiContext, '[1].text', 'Нет Области'),\n  cityName: get(apiContext, '[2].text', 'Нет Города')\n  }\n}\n\nexport const getPlace = ({id, position}, fullApiContext) => {\n  const context = getPlaceContextFromFullApiContext(fullApiContext)\n  return {\n    id,\n    title: context.cityName,\n    position,\n    isSaved: false,\n    isShowOnMap: false,\n    context\n  }\n}","export const defaultView = {\n  position: [54.01713952011128, 34.60835549517637],\n  zoom: 7,\n  id: \"mapbox/streets-v11\"\n};","<template>\r\n  <div>\r\n    <div class=\"map\" ref=\"map\"></div>\r\n    <button @click=\"onClickSave\">\r\n      Сохранить маркеры в дерево\r\n    </button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Vue from 'vue'\r\nimport { tileLayer, map, marker } from \"@/lib/leaflet\"\r\nimport nanoid from 'nanoid/generate'\r\nimport \"leaflet/dist/leaflet.css\"\r\nimport { has } from 'lodash-es'\r\nimport { mapToken } from \"@/config\"\r\nimport { getPlace } from \"@/helpers/place\"\r\nimport {defaultView} from '@/helpers/map'\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      mainMap: null,\r\n      points: {}\r\n    };\r\n  },\r\n  mounted() {\r\n    this.mainMap = map(this.$refs.map, {\r\n      center: defaultView.position,\r\n      zoom: defaultView.zoom\r\n    });\r\n\r\n    tileLayer(\r\n      \"https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}\",\r\n      {\r\n        attribution: \"\",\r\n        maxZoom: 18,\r\n        minZoom: 4,\r\n        id: defaultView.id,\r\n        accessToken: mapToken\r\n      }\r\n    ).addTo(this.mainMap);\r\n\r\n    this.mainMap.on(\"click\", e => {\r\n      this.addPoint(e.latlng);\r\n    });\r\n  },\r\n  methods: {\r\n    getNewId() {\r\n      return nanoid('1234567890abcdefghigklmno', 4)\r\n    },\r\n    addPoint(position) {\r\n      const point = {\r\n        id: this.getNewId(), \r\n        position: position,\r\n      }\r\n\r\n      Vue.set(this.points, point.id, point)\r\n\r\n      const newMarker = marker(position).addTo(this.mainMap)\r\n      \r\n      newMarker.on(\"click\", () => {\r\n        this.mainMap.removeLayer(newMarker)\r\n        \r\n        const contain = has(this.points, point.id)\r\n        if(contain) {\r\n          Vue.delete(this.points, point.id)\r\n        }\r\n      });\r\n    },\r\n    createPlacesFromApi() {\r\n      return new Promise((resolve)=> {\r\n        const allPromises = Object.values(this.points).map((point)=> {\r\n          return new Promise((resolve, reject)=> {\r\n           this.$store.dispatch('getPlaceContextFromApi', point).then((fullContext)=> {\r\n              resolve(getPlace(point, fullContext))\r\n            }).catch((err)=> {\r\n              reject(err)\r\n            })\r\n          }) \r\n        })\r\n        Promise.all(allPromises).then((result)=> {\r\n          const resultObject = {}\r\n          result.forEach((point)=> {\r\n            resultObject[point.id] = point\r\n          })\r\n          resolve(resultObject)\r\n        })\r\n      })\r\n    },\r\n    onClickSave() {\r\n      this.createPlacesFromApi().then((placesWithContext)=> {\r\n        this.$store.commit('places', placesWithContext)\r\n        this.$emit('back')\r\n      })\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.map {\r\n  width: 100vw;\r\n  height: 80vh;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateMapTree.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateMapTree.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CreateMapTree.vue?vue&type=template&id=1ae3858b&scoped=true&\"\nimport script from \"./CreateMapTree.vue?vue&type=script&lang=js&\"\nexport * from \"./CreateMapTree.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CreateMapTree.vue?vue&type=style&index=0&id=1ae3858b&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1ae3858b\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"map\",staticClass:\"map\"})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export const markersTypeNames = {\n  default: {\n    title: 'Сохранить при наведении',\n    value: 1\n  },\n  allowDrag: {\n    title: 'Сохранить при клике ЛКМ + Разрешить перетаскивание',\n    value: 2\n  }\n}","<template>\n  <div \n  class=\"map\"\n  ref=\"map\"></div>\n</template>\n\n<script>\nimport {mapGetters} from 'vuex'\nimport Vue from 'vue'\nimport {\n  tileLayer, \n  map,\n  marker\n} from '@/lib/leaflet'\nimport { mapToken } from '@/config'\nimport 'leaflet/dist/leaflet.css'\nimport {get, has} from 'lodash-es'\nimport {defaultView} from '@/helpers/map'\nimport { getPlaceContextFromFullApiContext } from '@/helpers/place'\nimport {markersTypeNames} from '@/helpers/radio'\n\nexport default {\n  props: {\n    markersType: {\n      type: [String, Number],\n      required: true,\n      validator(value) {\n        return Object.values(markersTypeNames).some((markersType) => {\n          return markersType.value === value\n        })\n      }\n    }\n  },\n  data() {\n    return {\n      mainMap: null,\n      markersOnMap: {}\n    }\n  },\n  computed: {\n    ...mapGetters({\n      mapMarkers: 'mapMarkers',\n      places: 'places'\n    }),\n    onSelectListeners() {\n      switch(this.markersType) {\n        case markersTypeNames.allowDrag.value:\n          return 'click'\n        case markersTypeNames.default.value:\n        default:\n          return 'mouseover click'\n      }\n    }\n  },\n  watch: {\n    mapMarkers(newValue) {\n      if(newValue === null) return;\n      newValue.forEach(place => {\n        this.addMarker(place)\n      });\n    },\n    markersType(type) {\n      this.changeMarkersType(type)\n    }\n  },\n  mounted() {\n    this.mainMap = map(this.$refs.map, {\n      center: defaultView.position,\n      zoom: defaultView.zoom\n    });\n\n    this.mainMap.on('contextmenu', ()=> {})\n\n    tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}', {\n      attribution: '',\n      maxZoom: 18,\n      id: defaultView.id,\n      accessToken: mapToken\n    }).addTo(this.mainMap);\n  },\n  methods: {\n    changeMarkerType(id) {\n      this.updateMarkerListeners({id})\n    },\n    changeMarkersType() {\n      Object.keys(this.markersOnMap).forEach((key)=> {\n        this.changeMarkerType(key)\n      })\n    },\n    deleteMarker({id}) {\n      this.mainMap.removeLayer(this.markersOnMap[id]);\n      Vue.delete(this.markersOnMap, id)\n    },\n    updateMarkerListeners({id}) {\n      this.markersOnMap[id].clearAllEventListeners()\n\n      this.markersOnMap[id].on(this.onSelectListeners, (event) => {\n        const id = get(event.target, 'options.id', null);\n        this.$store.commit('saveMapMarker', {id})\n        this.deleteMarker({id})\n      });\n      if(this.markersType === markersTypeNames.allowDrag.value) {\n        this.markersOnMap[id].on('dragend', (event)=> {\n          const marker = event.target;\n          const id = get(marker, 'options.id', null)\n          const position = marker.getLatLng();\n          marker.setLatLng(position, {id, draggable:'true'})\n          marker.bindPopup(position)\n          marker.update();\n          const updatedPlaceSync = {\n            ...this.places[id],\n            position\n          }\n          this.$store.dispatch('getPlaceContextFromApi', updatedPlaceSync).then((fullContext)=> {\n            const context = getPlaceContextFromFullApiContext(fullContext)\n            const updatedPlaceAsync = {\n              ...updatedPlaceSync,\n              context\n            }\n            this.$store.commit('updateSinglePlace', updatedPlaceAsync)\n          })\n        })\n      }\n    },\n    addMarker(place) {\n      if(has(this.markersOnMap, place.id)) return;\n\n      this.markersOnMap[place.id] = marker(place.position, {\n        draggable:'true',\n        id: place.id\n      })\n      \n      this.updateMarkerListeners({id: place.id})\n      \n      this.markersOnMap[place.id].addTo(this.mainMap)\n    }\n  }\n}\n</script>\n\n<style scoped>\n.map {\n  width: 100%;\n  height: 100%;\n}\n</style>\n\n<style>\n\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Map.vue?vue&type=template&id=25be0c82&scoped=true&\"\nimport script from \"./Map.vue?vue&type=script&lang=js&\"\nexport * from \"./Map.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Map.vue?vue&type=style&index=0&id=25be0c82&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"25be0c82\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"map-tree-wrapper\"},[(_vm.tree)?_c('ul',{staticClass:\"map-tree\"},_vm._l((_vm.tree),function(place,key){return _c('TreeListItem',{key:key,attrs:{\"place\":place},on:{\"selected\":_vm.onSelected}})}),1):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.place)?_c('li',{staticClass:\"tree-list-item\",on:{\"click\":function($event){$event.stopPropagation();return _vm.onSelected(_vm.place)}}},[_c('span',{staticClass:\"tree-list-item-title\",class:{\n      'tree-list-item_selected': _vm.isNeedToHightlight\n    }},[_vm._v(\" \"+_vm._s(_vm.placeTitle)+\" \")]),(_vm.place.children)?_c('ul',_vm._l((_vm.place.children),function(childPlace,key){return _c('TreeListItem',{key:key,attrs:{\"place\":childPlace},on:{\"selected\":_vm.onSelected}})}),1):_vm._e()]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export class Place {\n  static isValid(value) {\n    let isValid = true\n    if(this.hasChildren(value)) {\n      isValid = this.isChildrenValid(value.children)\n    }\n    return value.hasOwnProperty('title') && isValid\n  }\n  static hasChildren(place) {\n    return place.hasOwnProperty('children')\n  }\n  static isChildrenValid(children) {\n    return typeof(children) === 'object'\n  }\n}","<template>\n  <li \n    class=\"tree-list-item\" \n    v-if=\"place\"\n    @click.stop=\"onSelected(place)\"\n  >\n    <span \n      :class=\"{\n        'tree-list-item_selected': isNeedToHightlight\n      }\"\n      class=\"tree-list-item-title\"\n    >\n      {{placeTitle}}\n    </span>\n    <ul\n      v-if=\"place.children\"\n    >\n      <TreeListItem \n        v-for=\"(childPlace, key) in place.children\" :key=\"key\"\n        :place=\"childPlace\"\n        @selected=\"onSelected\"\n      />\n    </ul>\n  </li>\n</template>\n\n<script>\nimport { Place } from '@/models'\nimport { get } from 'lodash-es'\n\nexport default {\n  name: 'TreeListItem',\n  props: {\n    place: {\n      type: Object,\n      required: true,\n      validator(value) {\n        return Place.isValid(value)\n      }\n    }\n  },\n  computed: {\n    placeTitle() {\n      return get(this.place, 'title', false) || get(this.place, 'context[2]', false)\n    },\n    isNeedToHightlight() {\n      return get(this.place, 'isSaved', false) || get(this.place, 'isShowOnMap', false)\n    }\n  },\n  methods: {\n    onSelected(treeItem) {\n      this.$emit('selected', treeItem)\n    }\n  }\n}\n</script>\n\n<style scoped>\n  .tree-list-item {\n    padding: 5px 10px;\n    border: 1px solid #000;\n    cursor: pointer;\n  }\n\n  .tree-list-item_selected {\n    background-color: rgba(255, 179, 0, 0.66);\n  }\n\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TreeListItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TreeListItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TreeListItem.vue?vue&type=template&id=4a0facd6&scoped=true&\"\nimport script from \"./TreeListItem.vue?vue&type=script&lang=js&\"\nexport * from \"./TreeListItem.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TreeListItem.vue?vue&type=style&index=0&id=4a0facd6&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4a0facd6\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"map-tree-wrapper\">\n    <ul v-if=\"tree\" class=\"map-tree\">\n      <TreeListItem\n        v-for=\"(place, key) in tree\"\n        :key=\"key\"\n        :place=\"place\"\n        @selected=\"onSelected\"\n      ></TreeListItem>\n    </ul>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from \"vuex\";\nimport TreeListItem from \"./TreeListItem.vue\";\nimport { merge } from \"lodash-es\";\nexport default {\n  components: {\n    TreeListItem\n  },\n  computed: {\n    ...mapGetters({\n      places: \"places\"\n    }),\n    tree() {\n      return this.createTreeFromPlaces(this.places);\n    }\n  },\n  methods: {\n    onSelected(treeItem) {\n      this.$store.commit(\"addMapMarkers\", treeItem);\n    },\n    getHashCode(str) {\n      var hash = 0,\n        i,\n        chr;\n      if (str.length === 0) return hash;\n      for (i = 0; i < str.length; i++) {\n        chr = str.charCodeAt(i);\n        hash = (hash << 5) - hash + chr;\n        hash |= 0;\n      }\n      return hash;\n    },\n    createTreeItem(place) {\n      return {\n        [this.getHashCode(place.context.countryName)]: {\n          title: place.context.countryName,\n          children: {\n            [this.getHashCode(place.context.regionName)]: {\n              title: place.context.regionName,\n              children: {\n                [this.getHashCode(place.context.cityName)]: place\n              }\n            }\n          }\n        }\n      };\n    },\n    createTreeFromPlaces(places) {\n      return Object.values(places).reduce((result, place) => {\n        const treeItem = this.createTreeItem({...place});\n        return merge(treeItem, result);\n      }, {});\n    }\n  }\n};\n</script>\n\n<style>\n.map-tree-wrapper {\n  max-height: 100vh;\n  display: flex;\n  flex-direction: column;\n}\n\n.map-tree {\n  max-height: 100%;\n  overflow-y: scroll;\n  overflow-x: hidden;\n}\n\n.map-tree ul {\n  list-style-type: none;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapTree.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapTree.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MapTree.vue?vue&type=template&id=0ade805c&\"\nimport script from \"./MapTree.vue?vue&type=script&lang=js&\"\nexport * from \"./MapTree.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MapTree.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',_vm._l((_vm.savedPlaces),function(place){return _c('li',{key:place.id,staticClass:\"saved-list-item\",on:{\"click\":function($event){return _vm.onClickDelete(place)}}},[_vm._v(\" \"+_vm._s(((place.context.countryName) + \" => \" + (place.context.regionName) + \" => \" + (place.context.cityName)))+\" \")])}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <ul>\n    <li \n      v-for=\"place in savedPlaces\" \n      :key=\"place.id\"\n      class=\"saved-list-item\"\n      @click=\"onClickDelete(place)\"\n    >\n      {{`${place.context.countryName} => ${place.context.regionName} => ${place.context.cityName}`}}\n    </li>\n  </ul>\n</template>\n\n<script>\nimport { mapGetters } from \"vuex\";\nexport default {\n  computed: {\n    ...mapGetters({\n      savedPlaces: \"savedPlaces\"\n    }),\n  },\n  methods: {\n    onClickDelete(place) {\n      this.$store.commit('unSaveMapMarker', place)\n    }\n  }\n}\n</script>\n\n<style>\n  .saved-list-item {\n    padding: 5px 10px;\n    border: 1px solid #000;\n    cursor: pointer;\n  }\n  .saved-list-item:hover {\n    background-color: rgba(255, 0, 0, 0.664)\n  }\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SavedMapTree.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SavedMapTree.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SavedMapTree.vue?vue&type=template&id=518a74d0&\"\nimport script from \"./SavedMapTree.vue?vue&type=script&lang=js&\"\nexport * from \"./SavedMapTree.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SavedMapTree.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"menu-panel-wrapper\",class:{\n    'menu-panel-wrapper_active': _vm.isShowMenu\n  }},[_c('button',{on:{\"click\":function($event){_vm.isShowMenu = !_vm.isShowMenu}}},[_vm._v(\" Показать/Спрятать меню \")]),(_vm.isShowMenu)?_c('section',{staticClass:\"menu-panel\"},[_c('button',{staticClass:\"menu-panel-controll menu-panel-button\",on:{\"click\":_vm.toggleEdit}},[_vm._v(\" \"+_vm._s(_vm.editButtonText)+\" \")]),(!_vm.isMapEdit)?_c('span',{staticClass:\"menu-panel-controll\"},[_vm._v(\" Управление маркерами: \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.markersType),expression:\"markersType\"}],staticClass:\"menu-panel-controll-select\",on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.markersType=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.markersTypeNames),function(markersTypesName,key){return _c('option',{key:key,domProps:{\"value\":markersTypesName.value}},[_vm._v(\" \"+_vm._s(markersTypesName.title)+\" \")])}),0)]):_vm._e()]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div \n    class=\"menu-panel-wrapper\"\n    :class=\"{\n      'menu-panel-wrapper_active': isShowMenu\n    }\"\n  >\n    <button \n      @click=\"isShowMenu = !isShowMenu\"\n    >\n      Показать/Спрятать меню\n    </button>\n    <section \n    v-if=\"isShowMenu\" \n    class=\"menu-panel\"\n    >\n      <button @click=\"toggleEdit\"\n        class=\"menu-panel-controll menu-panel-button\"\n      >\n        {{editButtonText}}\n      </button>\n      <span \n        v-if=\"!isMapEdit\"\n        class=\"menu-panel-controll\"\n      >\n        Управление маркерами:\n        <select \n          class=\"menu-panel-controll-select\"\n          v-model=\"markersType\"\n        >\n          <option \n            v-for=\"(markersTypesName, key) in markersTypeNames\"\n            :key=\"key\"\n            :value=\"markersTypesName.value\"\n          >\n            {{markersTypesName.title}}\n          </option>\n        </select>\n      </span>\n    </section>\n  </div>\n  \n</template>\n\n<script>\nimport {markersTypeNames} from '@/helpers/radio'\n\nexport default {\n  props: {\n    isMapEdit: {\n      type: Boolean,\n      required: true\n    }\n  },\n  data() {\n    return {\n      markersTypeData: markersTypeNames.default.value,\n      isShowMenu: false,\n    }\n  },  \n  computed: {\n    markersTypeNames() {\n      return markersTypeNames\n    },\n    editButtonText() {\n      return this.isMapEdit ? 'Вернуться к дереву' : 'Задать точки' \n    },\n    markersType: {\n      get() {\n        return this.markersTypeData\n      },\n      set(value) {\n        this.markersTypeData = value\n        this.$emit('on-change-markers-type', value)\n      }\n    }\n  },\n  methods: {\n    toggleEdit() {\n      this.$emit('on-toggle-edit')\n    }\n  }\n}\n</script>\n\n<style scoped>\n.menu-panel-wrapper {\n  border-radius: 27px;\n  font-size: 12px;\n  padding: 6px;\n  background-color:red;\n  color: white;\n  z-index: 10000111111;\n  bottom: 0;\n  right: 0;\n  left: unset;\n  position: sticky;\n}\n\n.menu-panel-wrapper_active {\n  left: 0;\n}\n\n.menu-panel {\n  opacity: 0.6;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  align-items: center;\n}\n.menu-panel:hover {\n  opacity: 1;\n}\n\n.menu-panel-button {\n  max-height: 30px;\n}\n\n.menu-panel-controll {\n  display: flex;\n  flex-direction: column;\n  max-width: 90%;\n}\n\n.menu-panel-controll,\n.menu-panel-controll-select {\n  padding: 4px 10px;\n}\n\n.menu-panel-controll-select {\n  max-width: 100%;\n}\n\n@media (min-width: 700px) {\n  .menu-panel-wrapper {\n    position: fixed;  \n    flex-direction: row;\n  }\n}\n\n\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MenuPanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MenuPanel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MenuPanel.vue?vue&type=template&id=1c1114ea&scoped=true&\"\nimport script from \"./MenuPanel.vue?vue&type=script&lang=js&\"\nexport * from \"./MenuPanel.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MenuPanel.vue?vue&type=style&index=0&id=1c1114ea&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1c1114ea\",\n  null\n  \n)\n\nexport default component.exports","export const unreact = (value) => {\n  return JSON.parse(JSON.stringify(value))\n}\nexport const parse = (value) => {\n  return JSON.parse(value)\n}\nexport const stringify = (value) => {\n  return JSON.stringify(value)\n}\n\nexport const readPlacesFromLocalStorage = () => {\n  try {\n    let places = localStorage.getItem('places')\n    if(places) {\n      return parse(places)\n    }\n  } catch(e) {\n    localStorage.removeItem('places')\n  }\n}\nexport const writePlacesInLocalStorage = (value) => {\n  try {\n    localStorage.setItem('places', stringify(unreact(value)))\n  } catch(e) {\n    throw new Error(e)\n  }\n}\n\n\n\n","import { stringify } from '@/helpers'\n\nconst firstTimePlaceholderPlaces = {\"l6lg\":{\"id\":\"l6lg\",\"title\":\"Stare Babice\",\"position\":{\"lat\":52.27942364202732,\"lng\":20.746890268441188},\"isSaved\":false,\"isShowOnMap\":false,\"context\":{\"countryName\":\"Poland\",\"regionName\":\"Mazowieckie\",\"cityName\":\"Stare Babice\"}},\"n320\":{\"id\":\"n320\",\"title\":\"Murowana Goślina\",\"position\":{\"lat\":52.54728749655735,\"lng\":17.142521486334587},\"isSaved\":false,\"isShowOnMap\":false,\"context\":{\"countryName\":\"Poland\",\"regionName\":\"Wielkopolskie\",\"cityName\":\"Murowana Goślina\"}},\"k7ni\":{\"id\":\"k7ni\",\"title\":\"Byczyna\",\"position\":{\"lat\":51.081419529978845,\"lng\":18.285370124563524},\"isSaved\":false,\"isShowOnMap\":false,\"context\":{\"countryName\":\"Poland\",\"regionName\":\"Opolskie\",\"cityName\":\"Byczyna\"}},\"h1ao\":{\"id\":\"h1ao\",\"title\":\"Оршанский район\",\"position\":{\"lat\":56.90405879094862,\"lng\":48.26316901964512},\"isSaved\":false,\"isShowOnMap\":false,\"context\":{\"countryName\":\"Russia\",\"regionName\":\"Республика Марий-Эл\",\"cityName\":\"Оршанский район\"}},\"l02n\":{\"id\":\"l02n\",\"title\":\"Сургутский район\",\"position\":{\"lat\":61.776120673821985,\"lng\":70.85640748309369},\"isSaved\":false,\"isShowOnMap\":false,\"context\":{\"countryName\":\"Russia\",\"regionName\":\"Ханты-Мансийский АО\",\"cityName\":\"Сургутский район\"}},\"g21c\":{\"id\":\"g21c\",\"title\":\"Удорский район\",\"position\":{\"lat\":63.822725784540566,\"lng\":49.757663392713674},\"isSaved\":false,\"isShowOnMap\":false,\"context\":{\"countryName\":\"Russia\",\"regionName\":\"Республика Коми\",\"cityName\":\"Удорский район\"}},\"b13m\":{\"id\":\"b13m\",\"title\":\"Павлоградский район\",\"position\":{\"lat\":54.22332057183491,\"lng\":73.49375049439122},\"isSaved\":false,\"isShowOnMap\":false,\"context\":{\"countryName\":\"Russia\",\"regionName\":\"Омская область\",\"cityName\":\"Павлоградский район\"}},\"29l3\":{\"id\":\"29l3\",\"title\":\"Нет Города\",\"position\":{\"lat\":49.45352952111695,\"lng\":66.28501293017801},\"isSaved\":false,\"isShowOnMap\":false,\"context\":{\"countryName\":\"Kazakhstan\",\"regionName\":\"Нет Области\",\"cityName\":\"Нет Города\"}},\"ganf\":{\"id\":\"ganf\",\"title\":\"Режевской\",\"position\":{\"lat\":57.333201521871345,\"lng\":61.27406120871277},\"isSaved\":false,\"isShowOnMap\":false,\"context\":{\"countryName\":\"Russia\",\"regionName\":\"Свердловская область\",\"cityName\":\"Режевской\"}},\"dg95\":{\"id\":\"dg95\",\"title\":\"Советский район\",\"position\":{\"lat\":61.52588982372355,\"lng\":61.71361837726234},\"isSaved\":false,\"isShowOnMap\":false,\"context\":{\"countryName\":\"Russia\",\"regionName\":\"Ханты-Мансийский АО\",\"cityName\":\"Советский район\"}},\"8ne0\":{\"id\":\"8ne0\",\"title\":\"Великоустюгский район\",\"position\":{\"lat\":60.76296332238186,\"lng\":45.27418027350792},\"isSaved\":false,\"isShowOnMap\":false,\"context\":{\"countryName\":\"Russia\",\"regionName\":\"Вологодская область\",\"cityName\":\"Великоустюгский район\"}},\"ehah\":{\"id\":\"ehah\",\"title\":\"Ростовский район\",\"position\":{\"lat\":56.90405879094862,\"lng\":39.12037991381378},\"isSaved\":false,\"isShowOnMap\":false,\"context\":{\"countryName\":\"Russia\",\"regionName\":\"Ярославская область\",\"cityName\":\"Ростовский район\"}},\"iacn\":{\"id\":\"iacn\",\"title\":\"Докшицы\",\"position\":{\"lat\":55.03674075328966,\"lng\":27.603982097814693},\"isSaved\":false,\"isShowOnMap\":false,\"context\":{\"countryName\":\"Belarus\",\"regionName\":\"Vitebsk\",\"cityName\":\"Докшицы\"}},\"6c65\":{\"id\":\"6c65\",\"title\":\"Нет Города\",\"position\":{\"lat\":52.49384484745144,\"lng\":72.79045902471186},\"isSaved\":false,\"isShowOnMap\":false,\"context\":{\"countryName\":\"Kazakhstan\",\"regionName\":\"Нет Области\",\"cityName\":\"Нет Города\"}},\"0f7g\":{\"id\":\"0f7g\",\"title\":\"Нет Города\",\"position\":{\"lat\":42.18465461914306,\"lng\":67.7795073032466},\"isSaved\":false,\"isShowOnMap\":false,\"context\":{\"countryName\":\"Kazakhstan\",\"regionName\":\"Нет Области\",\"cityName\":\"Нет Города\"}},\"bb31\":{\"id\":\"bb31\",\"title\":\"Нет Города\",\"position\":{\"lat\":50.5821641817533,\"lng\":58.812541064835095},\"isSaved\":false,\"isShowOnMap\":false,\"context\":{\"countryName\":\"Kazakhstan\",\"regionName\":\"Нет Области\",\"cityName\":\"Нет Города\"}},\"fb3a\":{\"id\":\"fb3a\",\"title\":\"Чекмагушевский район\",\"position\":{\"lat\":55.03674075328966,\"lng\":54.59279224675909},\"isSaved\":false,\"isShowOnMap\":false,\"context\":{\"countryName\":\"Russia\",\"regionName\":\"Республика Башкирия\",\"cityName\":\"Чекмагушевский район\"}},\"7l4a\":{\"id\":\"7l4a\",\"title\":\"Чердынский район\",\"position\":{\"lat\":60.891400507523166,\"lng\":56.175198053537606},\"isSaved\":false,\"isShowOnMap\":false,\"context\":{\"countryName\":\"Russia\",\"regionName\":\"Пермский край\",\"cityName\":\"Чердынский район\"}},\"28gd\":{\"id\":\"28gd\",\"title\":\"Тобольский район\",\"position\":{\"lat\":58.955301120406325,\"lng\":67.60368443582678},\"isSaved\":false,\"isShowOnMap\":false,\"context\":{\"countryName\":\"Russia\",\"regionName\":\"Тюменская область\",\"cityName\":\"Тобольский район\"}},\"dg07\":{\"id\":\"dg07\",\"title\":\"Нет Города\",\"position\":{\"lat\":54.06898907929346,\"lng\":66.10919006275817},\"isSaved\":false,\"isShowOnMap\":false,\"context\":{\"countryName\":\"Kazakhstan\",\"regionName\":\"Нет Области\",\"cityName\":\"Нет Города\"}},\"ie60\":{\"id\":\"ie60\",\"title\":\"Нет Города\",\"position\":{\"lat\":48.70566297350473,\"lng\":36.39512546880633},\"isSaved\":false,\"isShowOnMap\":false,\"context\":{\"countryName\":\"Ukraine\",\"regionName\":\"Нет Области\",\"cityName\":\"Нет Города\"}},\"fcab\":{\"id\":\"fcab\",\"title\":\"Костюковичи\",\"position\":{\"lat\":53.341146400991605,\"lng\":31.911642349600577},\"isSaved\":false,\"isShowOnMap\":false,\"context\":{\"countryName\":\"Belarus\",\"regionName\":\"Mogilev\",\"cityName\":\"Костюковичи\"}},\"60e5\":{\"id\":\"60e5\",\"title\":\"Гавриловский район\",\"position\":{\"lat\":52.81352646037865,\"lng\":42.548925828500515},\"isSaved\":false,\"isShowOnMap\":false,\"context\":{\"countryName\":\"Russia\",\"regionName\":\"Тамбовская область\",\"cityName\":\"Гавриловский район\"}},\"4b5e\":{\"id\":\"4b5e\",\"title\":\"Камышинский район\",\"position\":{\"lat\":49.96469662626377,\"lng\":45.27418027350792},\"isSaved\":false,\"isShowOnMap\":false,\"context\":{\"countryName\":\"Russia\",\"regionName\":\"Волгоградская область\",\"cityName\":\"Камышинский район\"}},\"7ced\":{\"id\":\"7ced\",\"title\":\"Нет Города\",\"position\":{\"lat\":48.23983256373431,\"lng\":23.384233279738687},\"isSaved\":false,\"isShowOnMap\":false,\"context\":{\"countryName\":\"Ukraine\",\"regionName\":\"Нет Области\",\"cityName\":\"Нет Города\"}},\"4ig4\":{\"id\":\"4ig4\",\"title\":\"Нет Города\",\"position\":{\"lat\":44.85882246449399,\"lng\":19.340307329082506},\"isSaved\":false,\"isShowOnMap\":false,\"context\":{\"countryName\":\"Bosnia and Herzegovina\",\"regionName\":\"Bijeljina\",\"cityName\":\"Нет Города\"}},\"alf1\":{\"id\":\"alf1\",\"title\":\"Boissy-lès-Perche\",\"position\":{\"lat\":48.70566297350473,\"lng\":0.8789062500000001},\"isSaved\":false,\"isShowOnMap\":false,\"context\":{\"countryName\":\"France\",\"regionName\":\"Eure-et-Loir\",\"cityName\":\"Boissy-lès-Perche\"}},\"4c89\":{\"id\":\"4c89\",\"title\":\"Briaucourt\",\"position\":{\"lat\":47.82871963704683,\"lng\":6.241503706304907},\"isSaved\":false,\"isShowOnMap\":false,\"context\":{\"countryName\":\"France\",\"regionName\":\"Haute-Saône\",\"cityName\":\"Briaucourt\"}},\"m3m4\":{\"id\":\"m3m4\",\"title\":\"Bertignat\",\"position\":{\"lat\":45.60107416271177,\"lng\":3.692072128717326},\"isSaved\":false,\"isShowOnMap\":false,\"context\":{\"countryName\":\"France\",\"regionName\":\"Puy-de-Dôme\",\"cityName\":\"Bertignat\"}},\"efio\":{\"id\":\"efio\",\"title\":\"Lubomia\",\"position\":{\"lat\":50.02116112149353,\"lng\":18.285370124563524},\"isSaved\":false,\"isShowOnMap\":false,\"context\":{\"countryName\":\"Poland\",\"regionName\":\"Śląskie\",\"cityName\":\"Lubomia\"}},\"4df5\":{\"id\":\"4df5\",\"title\":\"Möckern\",\"position\":{\"lat\":52.22565552781916,\"lng\":12.043658331159426},\"isSaved\":false,\"isShowOnMap\":false,\"context\":{\"countryName\":\"Germany\",\"regionName\":\"Sachsen-Anhalt\",\"cityName\":\"Möckern\"}},\"5olg\":{\"id\":\"5olg\",\"title\":\"Fieberbrunn\",\"position\":{\"lat\":47.47372470269752,\"lng\":12.571126933418917},\"isSaved\":false,\"isShowOnMap\":false,\"context\":{\"countryName\":\"Austria\",\"regionName\":\"Tirol\",\"cityName\":\"Fieberbrunn\"}},\"82dn\":{\"id\":\"82dn\",\"title\":\"Rákoš\",\"position\":{\"lat\":48.64766799835585,\"lng\":21.450181738120513},\"isSaved\":false,\"isShowOnMap\":false,\"context\":{\"countryName\":\"Slovakia\",\"regionName\":\"Košický kraj\",\"cityName\":\"Rákoš\"}},\"953d\":{\"id\":\"953d\",\"title\":\"Kuchyňa\",\"position\":{\"lat\":48.41502019002829,\"lng\":17.142521486334587},\"isSaved\":false,\"isShowOnMap\":false,\"context\":{\"countryName\":\"Slovakia\",\"regionName\":\"Bratislavský kraj\",\"cityName\":\"Kuchyňa\"}},\"e5gg\":{\"id\":\"e5gg\",\"title\":\"Петриков\",\"position\":{\"lat\":52.17182222489304,\"lng\":28.658919302333675},\"isSaved\":false,\"isShowOnMap\":false,\"context\":{\"countryName\":\"Belarus\",\"regionName\":\"Gomel\",\"cityName\":\"Петриков\"}},\"2i6m\":{\"id\":\"2i6m\",\"title\":\"Нет Города\",\"position\":{\"lat\":49.224615893759854,\"lng\":31.208350879921255},\"isSaved\":false,\"isShowOnMap\":false,\"context\":{\"countryName\":\"Ukraine\",\"regionName\":\"Черкаська\",\"cityName\":\"Нет Города\"}},\"1c6l\":{\"id\":\"1c6l\",\"title\":\"Усманский район\",\"position\":{\"lat\":52.009930870230704,\"lng\":39.82367138349311},\"isSaved\":false,\"isShowOnMap\":false,\"context\":{\"countryName\":\"Russia\",\"regionName\":\"Липецкая область\",\"cityName\":\"Усманский район\"}},\"k1ig\":{\"id\":\"k1ig\",\"title\":\"Нет Города\",\"position\":{\"lat\":41.72744816573121,\"lng\":44.57088880382861},\"isSaved\":false,\"isShowOnMap\":false,\"context\":{\"countryName\":\"Georgia\",\"regionName\":\"Нет Области\",\"cityName\":\"Нет Города\"}},\"4b30\":{\"id\":\"4b30\",\"title\":\"Нет Города\",\"position\":{\"lat\":38.84727862643556,\"lng\":45.7137374420575},\"isSaved\":false,\"isShowOnMap\":false,\"context\":{\"countryName\":\"Iran\",\"regionName\":\"East Azarbaijan\",\"cityName\":\"Нет Города\"}},\"kkik\":{\"id\":\"kkik\",\"title\":\"Нет Города\",\"position\":{\"lat\":36.27163055293128,\"lng\":36.834682637355904},\"isSaved\":false,\"isShowOnMap\":false,\"context\":{\"countryName\":\"Syria\",\"regionName\":\"Нет Области\",\"cityName\":\"Нет Города\"}},\"2d0m\":{\"id\":\"2d0m\",\"title\":\"Нет Города\",\"position\":{\"lat\":36.48377322274468,\"lng\":30.59297084395185},\"isSaved\":false,\"isShowOnMap\":false,\"context\":{\"countryName\":\"Turkey\",\"regionName\":\"Нет Области\",\"cityName\":\"Нет Города\"}},\"eakg\":{\"id\":\"eakg\",\"title\":\"Нет Города\",\"position\":{\"lat\":43.790707173501595,\"lng\":23.56005614715852},\"isSaved\":false,\"isShowOnMap\":false,\"context\":{\"countryName\":\"Bulgaria\",\"regionName\":\"Монтана\",\"cityName\":\"Нет Города\"}},\"8hbb\":{\"id\":\"8hbb\",\"title\":\"Нет Города\",\"position\":{\"lat\":41.20091416448631,\"lng\":20.57106740102132},\"isSaved\":false,\"isShowOnMap\":false,\"context\":{\"countryName\":\"North Macedonia\",\n\"regionName\":\"Нет Области\",\"cityName\":\"Нет Города\"}},\n\"2c81\":{\"id\":\"2c81\",\"title\":\"Bacoli\",\"position\":\n{\"lat\":40.80321059688951,\"lng\":14.065621306487515},\"isSaved\":false,\n\"isShowOnMap\":false,\"context\":{\"countryName\":\"Italy\",\"regionName\":\"Napoli\",\n\"cityName\":\"Bacoli\"}},\"lo22\":{\"id\":\"lo22\",\"title\":\"San Rufo\",\"position\":\n{\"lat\":40.40310955608585,\"lng\":15.47220424584616},\"isSaved\":false,\"isShowOnMap\":false,\"context\":\n{\"countryName\":\"Italy\",\"regionName\":\"Salerno\",\"cityName\":\"San Rufo\"}},\"eogo\":{\"id\":\"eogo\",\"title\":\n\"Bagno di Romagna\",\"position\":{\"lat\":43.790707173501595,\"lng\":11.95574689744951},\"isSaved\":false,\n\"isShowOnMap\":false,\"context\":{\"countryName\":\"Italy\",\"regionName\":\"Forli'-Cesena\",\"cityName\":\"Bagno di Romagna\"}},\n\"9ecn\":{\"id\":\"9ecn\",\"title\":\"Нет Города\",\"position\":{\"lat\":40.13504613427656,\"lng\":11.692012596319765},\"isSaved\":\nfalse,\"isShowOnMap\":false,\"context\":{\"countryName\":\"Нет Страны\",\"regionName\":\"Нет Области\",\"cityName\":\"Нет Города\"}},\n\"ib9h\":{\"id\":\"ib9h\",\"title\":\"Нет Города\",\"position\":{\"lat\":38.36684108799575,\"lng\":6.329415140014821},\"isSaved\":false,\n\"isShowOnMap\":false,\"context\":{\"countryName\":\"Нет Страны\",\"regionName\":\"Нет Области\",\"cityName\":\"Нет Города\"}}}\n\nexport const setFirstTimePlaceholderData = () => {\n  if(!window.localStorage.getItem('wasFirstTimeInited')) {\n    window.localStorage.setItem('places', stringify(firstTimePlaceholderPlaces))\n    window.localStorage.setItem('wasFirstTimeInited', 'true')\n  }\n} ","<template>\n  <div class=\"app\">\n    <template v-if=\"isEdit\">\n      <CreateMapTree @back=\"onClickBack\"></CreateMapTree>\n    </template>\n    <template v-else>\n      <MapTree class=\"app-map-tree\"></MapTree>\n      <Map\n        :markers-type=\"markersType\"\n        class=\"app-map\"\n      ></Map>\n      <SavedMapTree class=\"saved-map-tree\"></SavedMapTree>\n    </template>\n    <MenuPanel\n      :is-map-edit=\"isEdit\"\n      @on-toggle-edit=\"toggleEdit\"\n      @on-change-markers-type=\"changeMarkersType\"\n    ></MenuPanel>\n  </div>\n</template>\n\n<script>\nimport CreateMapTree from \"./components/CreateMapTree.vue\";\nimport Map from \"./components/Map.vue\";\nimport MapTree from \"./components/MapTree.vue\";\nimport SavedMapTree from \"./components/SavedMapTree.vue\";\nimport MenuPanel from \"./components/MenuPanel.vue\";\nimport {mapGetters } from 'vuex'\nimport {\n  writePlacesInLocalStorage,\n  readPlacesFromLocalStorage\n} from '@/helpers'\nimport {markersTypeNames} from '@/helpers/radio'\nimport {setFirstTimePlaceholderData} from \"@/helpers/firstTimePlaceholderData\";\n\nexport default {\n  name: \"app\",\n  components: {\n    Map,\n    MapTree,\n    SavedMapTree,\n    CreateMapTree,\n    MenuPanel\n  },\n  computed: {\n    ...mapGetters({\n      places: 'places'\n    }),\n  },\n  data() {\n    return {\n      isEdit: true,\n      markersType: markersTypeNames.default.value,\n    }\n  },\n  created() {\n    setFirstTimePlaceholderData()\n    this.init()\n  },\n  methods: {\n    init() {\n      const placesFromLocalStorage = readPlacesFromLocalStorage()\n      if(placesFromLocalStorage) {\n        this.$store.commit('places', placesFromLocalStorage)\n      }\n      this.isEdit = Object.keys(this.places).length === 0\n    },\n    onClickBack() {\n      writePlacesInLocalStorage(this.places)\n      this.isEdit = false\n    },\n    toggleEdit() {\n      this.isEdit = !this.isEdit\n    },\n    changeMarkersType(value) {\n      this.markersType = value\n    }\n  },\n  watch: {\n    places() {\n      this.isEdit = false\n    }\n  }\n};\n</script>\n\n<style scoped>\n.app {\n  display: flex;\n  flex-direction: column;\n}\n\n.app-map {\n  height: 60vh;\n}\n\n@media (min-width: 700px) {\n  .app {\n    display: flex;\n    justify-content: space-between;\n    height: 100vh;\n    flex-direction: row;\n  }\n\n  .app-map-tree {\n    flex-grow: 2;\n    flex-basis: var(--tree-width);\n  }\n\n  .app-map {\n    flex-grow: 7;\n    height: 100vh;\n  }\n\n  .saved-map-tree {\n    flex-grow: 2;\n    flex-basis: var(--tree-width);\n  }\n}\n</style>\n\n<style>\n:root {\n  --tree-width: 600px;\n}\n\n* {\n  margin: 0;\n  padding: 0;\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=47e5586c&scoped=true&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&id=47e5586c&scoped=true&lang=css&\"\nimport style1 from \"./App.vue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"47e5586c\",\n  null\n  \n)\n\nexport default component.exports","import {Place} from '@/models'\n\nexport const flatTree = (treeItem) => {\n  if(!Place.isValid(treeItem)) return\n  const result = []\n  const convert = (propTreeItem) => {\n    if(Place.hasChildren(propTreeItem)) {\n      for(let childTreeItem of Object.values(propTreeItem.children)) {\n        convert(childTreeItem)\n      }\n    } else {\n      result.push(propTreeItem)\n    }\n  } \n  convert(treeItem)\n  return result\n}","import Vue from 'vue'\nimport Vuex from 'vuex'\nimport {\n  flatTree\n} from '@/helpers/converters'\nimport {get, has, filter} from 'lodash-es'\nimport Axios from 'axios'\nimport { mapToken } from \"@/config\"\n\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n  state: {\n    places: {},\n  },\n  mutations: {\n    places(state, value) {\n      state.places = {...value}\n    },\n    updateSinglePlace(state, place) {\n      if(!has(state.places, place.id)) return;\n      Vue.set(state.places, place.id, place)\n    },\n    addMapMarkers(state, treeItem) {\n      const pickedPlaces = flatTree(treeItem)\n      state.places = {\n        ...state.places,\n        ...pickedPlaces.reduce((result, pickedPlace)=> {\n          \n          // if already saved in right sidebar -- skip it\n          if(pickedPlace.isSaved) return result\n\n          return { \n            ...result, \n            [pickedPlace.id]: {\n              ...pickedPlace,\n              isShowOnMap: true,\n            }\n          }\n        }, {})\n      }\n    },\n    saveMapMarker(state, {id}) {\n      Vue.set(state.places, id, {\n        ...state.places[id],\n        isSaved: true,\n        isShowOnMap: false,\n      })\n    },\n    unSaveMapMarker(state, place) {\n      Vue.set(state.places, place.id, {\n        ...state.places[place.id],\n        isSaved: false,\n      })\n    }\n  },\n  getters: {\n    places(state) {\n      return state.places\n    },\n    savedPlaces(state, getters) {\n      return filter(getters.places, (place) => get(place, 'isSaved', false))\n    },\n    mapMarkers(state, getters) {\n      return filter(getters.places, (place) => get(place, 'isShowOnMap', false))\n    },\n  },\n  actions: {\n    getPlaceContextFromApi(state, place) {\n      return new Promise((resolve, reject)=> {\n        Axios.get(\n          `https://api.mapbox.com/geocoding/v5/mapbox.places/${place.position.lng},${place.position.lat}.json`,\n          {\n            params: {\n              access_token: mapToken\n            }\n          }\n        ).then((response)=> {\n          resolve(get(response, 'data.features[0].context', []))\n        }).catch((err) => {\n          reject(err)\n        })\n      })\n    }\n  },\n  modules: {\n  }\n})\n","import Vue from 'vue'\r\nimport App from './App.vue'\r\nimport store from './store'\r\n\r\nVue.config.productionTip = false\r\n\r\nnew Vue({\r\n  store,\r\n  render: h => h(App)\r\n}).$mount('#app')\r\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=style&index=0&id=25be0c82&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=style&index=0&id=25be0c82&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TreeListItem.vue?vue&type=style&index=0&id=4a0facd6&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TreeListItem.vue?vue&type=style&index=0&id=4a0facd6&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapTree.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapTree.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateMapTree.vue?vue&type=style&index=0&id=1ae3858b&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateMapTree.vue?vue&type=style&index=0&id=1ae3858b&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MenuPanel.vue?vue&type=style&index=0&id=1c1114ea&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MenuPanel.vue?vue&type=style&index=0&id=1c1114ea&scoped=true&lang=css&\"","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=1&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=1&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SavedMapTree.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SavedMapTree.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&id=47e5586c&scoped=true&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&id=47e5586c&scoped=true&lang=css&\""],"sourceRoot":""}